import matplotlib.pyplot as plt
import pandas as pd
from io import StringIO

string_var_std = '''std,Pair,Constant Return,Constant Num of Trades,Sliding Window Return,SW Num of Trades,Lagged Return,Lagged Num of Trades,Granger Causality Return,Granger Causality Num of Trades,Kalman Filter Return,KF Num of Trades
0.1,0,5.44,360,29.28,661,66.29,687,26.34,704,-100,70
0.1,1,-100,104,-83.7,660,-77.28,653,-85.49,680,-100,71
0.1,2,5.83,454,-2.1,634,43.6,619,-4.04,730,89.13,236
0.1,3,-67.51,535,-70.51,572,-73.24,604,-100,671,-100,74
0.1,4,11.14,375,10.06,759,58.61,669,22.59,802,-100,70
0.1,5,-53.44,396,-75.16,587,-68.27,593,-100,587,-100,71
0.1,6,-100,26,-82.0,213,-76.2,198,-75.63,195,-100,27

0.5,0,11.77,723,-15.81,1223,104.48,1185,-2.31,1234,241.96,378
0.5,1,-100,832,-100,920,-100,936,-100,978,60.2,456
0.5,2,9.19,688,-0.88,1105,124.82,1025,35.78,1128,295.01,396
0.5,3,-93.51,794,-100,944,-92.35,1063,-100,808,37.63,425
0.5,4,26.01,826,-16.12,1243,112.45,1213,16.25,1217,244.51,391
0.5,5,-95.02,837,-100,854,-100,905,-100,824,90.57,388
0.5,6,-100,40,-96.69,359,-84.14,301,-95.26,367,-100,61

1,0,-21.41,675,-1.59,864,129.7,865,20.4,913,164.34,442
1,1,-100,791,-100,814,-93.81,1022,-100,818,-10.31,505
1,2,-21.23,535,7.04,777,150.19,721,55.49,733,184.32,404
1,3,-100,497,-100,657,-74.92,872,-100,655,1.9,436
1,4,-5.26,689,15.54,799,156.04,822,63.8,811,190.11,460
1,5,-100,533,-100,612,-69.44,785,-85.49,766,37.38,408
1,6,-53.08,108,-66.08,169,-46.79,125,-60.07,161,-41.59,158

1.5,0,5.7,365,48.67,447,144.27,476,18.98,497,178.36,179
1.5,1,-100,408,-63.97,509,-30.62,504,-66.71,507,68.75,221
1.5,2,-6.09,302,22.37,402,115.76,391,25.89,371,171.74,147
1.5,3,-71.49,389,-58.55,453,-27.34,449,-63.59,436,79.79,166
1.5,4,-12.11,324,38.58,428,128.86,426,18.33,431,176.14,201
1.5,5,-100,312,-51.69,402,-2.83,379,-49.38,387,88.52,175
1.5,6,-42.58,77,-40.18,87,-39.6,89,-32.75,83,-18.52,102

1.75,0,-10.35,288,38.26,342,141.77,353,39.45,360,175.37,153
1.75,1,-67.13,358,-29.23,293,-7.71,323,-32.4,305,74.13,178
1.75,2,-2.51,225,33.15,277,115.65,270,29.04,258,167.95,133
1.75,3,-59.62,309,-21.28,268,-1.49,294,-22.82,260,88.24,145
1.75,4,-3.72,241,41.37,294,92.24,291,38.18,302,146.99,152
1.75,5,-54.88,287,-14.02,225,14.77,250,-11.38,228,103.61,152
1.75,6,-47.31,76,-26.89,67,-40.81,76,-30.31,55,-22.66,74

2,0,2.11,226,44.05,271,90.62,268,44.66,275,108.12,116
2,1,-41.61,245,7.67,165,30.12,184,10.85,172,57.28,125
2,2,-8.64,191,45.26,190,90.81,202,40.8,192,98.06,106
2,3,-48.82,228,5.81,160,24.92,178,5.27,155,57.92,121
2,4,8.74,206,45.91,190,85.04,201,45.49,216,96.82,125
2,5,-27.79,192,10.78,138,32.9,147,8.86,141,69.22,125
2,6,-37.31,65,-22.0,49,-24.93,54,-19.7,45,0.99,53

3,0,2.59,54,28.73,102,26.55,83,19.48,104,27.46,51
3,1,-5.71,64,21.12,49,18.19,46,16.69,50,23.33,60
3,2,1.95,61,20.39,56,22.55,64,14.05,62,21.34,52
3,3,-10.22,73,12.31,46,11.0,48,7.54,45,12.46,58
3,4,4.65,67,32.37,57,28.98,64,29.66,61,26.45,57
3,5,-6.49,53,20.89,39,18.45,39,13.41,42,26.67,57
3,6,-1.72,13,-4.74,20,-3.19,25,-2.39,19,12.01,16'''

string_var_thresh = """
threshold,Pair,Constant Return,Constant Num of Trades,Sliding Window Return,SW Num of Trades,Lagged Return,Lagged Num of Trades,Granger Causality Return,Granger Causality Num of Trades,Kalman Filter Return,KF Num of Trades
4.7e-08, 0 , 22.72 , 150 , 34.17 , 176 , 39.52 , 177 , 30.81 , 182 , 64.96 , 74
4.7e-08, 1 , -11.82 , 172 , 24.13 , 81 , 22.54 , 94 , 19.46 , 87 , 41.1 , 79
4.7e-08, 2 , 19.63 , 114 , 40.47 , 109 , 36.9 , 123 , 29.1 , 108 , 57.47 , 68
4.7e-08, 3 , -19.73 , 160 , 18.64 , 77 , 12.15 , 94 , 11.89 , 78 , 36.1 , 77
4.7e-08, 4 , 25.65 , 137 , 47.56 , 103 , 46.48 , 110 , 43.35 , 122 , 67.37 , 83
4.7e-08, 5 , -0.96 , 131 , 28.1 , 66 , 24.97 , 69 , 21.4 , 70 , 58.88 , 83
4.7e-08, 6 , -27.37 , 41 , -9.76 , 19 , -15.59 , 30 , -11.0 , 17 , 14.28 , 35

6.36e-08, 0 , 25.0 , 175 , 42.21 , 203 , 36.98 , 203 , 35.46 , 209 , 80.35 , 86
6.36e-08, 1 , -13.87 , 190 , 23.04 , 105 , 12.27 , 122 , 18.52 , 113 , 46.1 , 96
6.36e-08, 2 , 16.96 , 133 , 45.44 , 127 , 35.83 , 140 , 34.63 , 128 , 68.24 , 78
6.36e-08, 3 , -20.92 , 175 , 17.43 , 97 , 5.12 , 118 , 11.89 , 98 , 39.6 , 93
6.36e-08, 4 , 24.58 , 158 , 43.3 , 125 , 39.47 , 132 , 38.82 , 147 , 80.53 , 95
6.36e-08, 5 , -6.39 , 149 , 27.68 , 81 , 16.46 , 88 , 21.4 , 86 , 64.56 , 94
6.36e-08, 6 , -25.06 , 48 , -11.29 , 20 , -18.77 , 38 , -12.61 , 20 , 4.91 , 41

8.83e-08, 0 , 23.24 , 191 , 50.8 , 220 , 42.52 , 222 , 51.77 , 227 , 62.22 , 93
8.83e-08, 1 , -16.23 , 206 , 22.35 , 122 , 8.58 , 140 , 24.11 , 130 , 30.6 , 103
8.83e-08, 2 , 11.58 , 149 , 54.08 , 148 , 38.83 , 161 , 43.86 , 147 , 52.64 , 84
8.83e-08, 3 , -29.48 , 193 , 19.87 , 117 , 4.29 , 135 , 13.84 , 115 , 26.31 , 99
8.83e-08, 4 , 22.55 , 176 , 56.57 , 146 , 43.9 , 153 , 52.29 , 170 , 64.64 , 102
8.83e-08, 5 , -5.81 , 162 , 31.25 , 100 , 17.66 , 108 , 25.47 , 104 , 47.57 , 100
8.83e-08, 6 , -27.93 , 51 , -14.4 , 30 , -17.77 , 41 , -15.27 , 28 , -0.92 , 42

1.29e-07, 0 , 11.18 , 209 , 48.62 , 238 , 90.51 , 242 , 53.99 , 244 , 112.82 , 105
1.29e-07, 1 , -32.08 , 228 , 13.94 , 143 , 35.75 , 162 , 16.72 , 150 , 65.56 , 116
1.29e-07, 2 , 2.72 , 171 , 49.32 , 164 , 81.65 , 181 , 46.37 , 165 , 99.58 , 96
1.29e-07, 3 , -40.06 , 212 , 13.44 , 137 , 28.08 , 158 , 12.52 , 133 , 60.31 , 111
1.29e-07, 4 , 11.99 , 190 , 51.85 , 166 , 88.87 , 175 , 50.19 , 191 , 115.68 , 115
1.29e-07, 5 , -20.52 , 178 , 20.5 , 117 , 44.05 , 127 , 19.89 , 121 , 85.25 , 115
1.29e-07, 6 , -34.53 , 62 , -16.41 , 39 , -20.29 , 50 , -18.82 , 39 , 1.94 , 47

2.13e-05, 0 , 6.81 , 226 , 50.16 , 271 , 98.85 , 268 , 49.96 , 275 , 110.51 , 116
2.13e-05, 1 , -38.34 , 245 , 10.25 , 165 , 34.9 , 184 , 13.73 , 172 , 59.82 , 125
2.13e-05, 2 , -3.11 , 191 , 49.14 , 190 , 94.82 , 202 , 46.1 , 192 , 101.01 , 106
2.13e-05, 3 , -44.85 , 228 , 8.45 , 160 , 28.38 , 178 , 8.56 , 155 , 60.58 , 121
2.13e-05, 4 , 13.73 , 206 , 50.23 , 190 , 93.16 , 201 , 49.88 , 216 , 99.35 , 125
2.13e-05, 5 , -24.98 , 192 , 14.04 , 138 , 38.05 , 147 , 12.38 , 141 , 72.14 , 125
2.13e-05, 6 , -36.1 , 65 , -20.65 , 49 , -23.75 , 54 , -18.66 , 45 , 1.93 , 53
"""

string_var_ii = """
ii,Pair,Constant Return,Constant Num of Trades,Sliding Window Return,SW Num of Trades,Lagged Return,Lagged Num of Trades,Granger Causality Return,Granger Causality Num of Trades,Kalman Filter Return,KF Num of Trades
1, 0 , -100 , 4 , -100 , 4 , -100 , 3 , -100 , 5 , -100 , 2
1, 1 , -100 , 4 , -100 , 4 , -100 , 3 , -100 , 4 , -100 , 2
1, 2 , -100 , 4 , -100 , 4 , -100 , 3 , -100 , 5 , -100 , 2
1, 3 , -100 , 4 , -100 , 4 , -100 , 3 , -100 , 5 , -100 , 2
1, 4 , -100 , 4 , -100 , 4 , -100 , 3 , -100 , 4 , -100 , 3
1, 5 , -100 , 4 , -100 , 4 , -100 , 3 , -100 , 4 , -100 , 3
1, 6 , -100 , 3 , -100 , 3 , -100 , 2 , -100 , 3 , -100 , 1
5, 0 , -100 , 101 , -100 , 162 , -100 , 183 , -100 , 164 , -27.63 , 105
5, 1 , -100 , 58 , -100 , 109 , -100 , 129 , -100 , 117 , -64.03 , 116
5, 2 , -100 , 93 , -100 , 140 , -100 , 157 , -100 , 137 , -26.65 , 96
5, 3 , -100 , 83 , -100 , 112 , -100 , 130 , -100 , 111 , -60.74 , 111
5, 4 , -100 , 86 , -100 , 112 , -100 , 152 , -100 , 133 , -34.43 , 115
5, 5 , -100 , 77 , -100 , 98 , -100 , 108 , -100 , 100 , -52.21 , 115
5, 6 , -85.23 , 62 , -60.02 , 39 , -67.01 , 50 , -61.98 , 39 , -49.09 , 47
10, 0 , -80.81 , 209 , -55.78 , 238 , -25.22 , 242 , -52.77 , 244 , 49.31 , 105
10, 1 , -100 , 212 , -56.48 , 143 , -45.31 , 162 , -54.56 , 150 , 6.44 , 116
10, 2 , -74.22 , 171 , -31.52 , 164 , -11.64 , 181 , -36.47 , 165 , 42.03 , 96
10, 3 , -100 , 196 , -50.92 , 137 , -45.73 , 158 , -48.65 , 133 , 5.61 , 111
10, 4 , -72.54 , 190 , -38.91 , 166 , -11.69 , 175 , -48.9 , 191 , 47.52 , 115
10, 5 , -81.16 , 178 , -40.14 , 117 , -27.42 , 127 , -40.67 , 121 , 22.3 , 115
10, 6 , -58.01 , 62 , -37.25 , 39 , -42.5 , 50 , -39.51 , 39 , -21.73 , 47
25, 0 , -19.01 , 209 , 14.13 , 238 , 51.64 , 242 , 18.52 , 244 , 94.82 , 105
25, 1 , -56.47 , 228 , -8.08 , 143 , 9.29 , 162 , -5.72 , 150 , 45.24 , 116
25, 2 , -22.95 , 171 , 22.08 , 164 , 52.42 , 181 , 18.66 , 165 , 80.01 , 96
25, 3 , -61.21 , 212 , -7.06 , 137 , 3.96 , 158 , -7.51 , 133 , 41.42 , 111
25, 4 , -14.86 , 190 , 21.34 , 166 , 55.75 , 175 , 19.35 , 191 , 95.92 , 115
25, 5 , -40.57 , 178 , 1.78 , 117 , 23.11 , 127 , -0.19 , 121 , 63.83 , 115
25, 6 , -43.79 , 62 , -23.67 , 39 , -28.21 , 50 , -26.08 , 39 , -5.79 , 47
50, 0 , 1.29 , 209 , 38.06 , 238 , 79.34 , 242 , 43.18 , 244 , 107.37 , 105
50, 1 , -39.83 , 228 , 6.6 , 143 , 27.67 , 162 , 9.23 , 150 , 59.83 , 116
50, 2 , -5.27 , 171 , 41.2 , 164 , 73.06 , 181 , 38.2 , 165 , 94.67 , 96
50, 3 , -46.81 , 212 , 6.87 , 137 , 21.85 , 158 , 5.92 , 133 , 55.0 , 111
50, 4 , 3.59 , 190 , 42.5 , 166 , 79.45 , 175 , 40.24 , 191 , 109.77 , 115
50, 5 , -27.36 , 178 , 14.53 , 117 , 37.12 , 127 , 13.61 , 121 , 79.73 , 115
50, 6 , -37.84 , 62 , -18.83 , 39 , -22.94 , 50 , -21.24 , 39 , -0.72 , 47
75, 0 , 8.16 , 209 , 45.11 , 238 , 86.54 , 242 , 50.2 , 244 , 111.08 , 105
75, 1 , -34.67 , 228 , 11.44 , 143 , 32.94 , 162 , 14.26 , 150 , 63.6 , 116
75, 2 , 0.0 , 171 , 46.67 , 164 , 78.6 , 181 , 43.63 , 165 , 97.94 , 96
75, 3 , -42.71 , 212 , 11.07 , 137 , 25.63 , 158 , 10.27 , 133 , 58.46 , 111
75, 4 , 9.19 , 190 , 48.86 , 166 , 85.49 , 175 , 46.94 , 191 , 113.77 , 115
75, 5 , -22.95 , 178 , 18.4 , 117 , 41.63 , 127 , 17.75 , 121 , 83.38 , 115
75, 6 , -35.63 , 62 , -17.21 , 39 , -21.17 , 50 , -19.63 , 39 , 1.06 , 47
100, 0 , 11.18 , 209 , 48.62 , 238 , 90.51 , 242 , 53.99 , 244 , 112.82 , 105
100, 1 , -32.08 , 228 , 13.94 , 143 , 35.75 , 162 , 16.72 , 150 , 65.56 , 116
100, 2 , 2.72 , 171 , 49.32 , 164 , 81.65 , 181 , 46.37 , 165 , 99.58 , 96
100, 3 , -40.06 , 212 , 13.44 , 137 , 28.08 , 158 , 12.52 , 133 , 60.31 , 111
100, 4 , 11.99 , 190 , 51.85 , 166 , 88.87 , 175 , 50.19 , 191 , 115.68 , 115
100, 5 , -20.52 , 178 , 20.5 , 117 , 44.05 , 127 , 19.89 , 121 , 85.25 , 115
100, 6 , -34.53 , 62 , -16.41 , 39 , -20.29 , 50 , -18.82 , 39 , 1.94 , 47
"""

string_var_sw = """
sw,Pair,Constant Return,Constant Num of Trades,Sliding Window Return,SW Num of Trades,Lagged Return,Lagged Num of Trades,Granger Causality Return,Granger Causality Num of Trades,Kalman Filter Return,KF Num of Trades
7, 0 , 29.57 , 287 , 42.3 , 230 , 73.88 , 233 , 30.42 , 252 , 23.53 , 271
7, 1 , -0.77 , 182 , 5.81 , 150 , 26.1 , 175 , 1.27 , 144 , 1.48 , 142
7, 2 , 33.63 , 252 , 31.28 , 220 , 66.32 , 205 , 27.2 , 214 , 22.12 , 211
7, 3 , -8.07 , 185 , 1.44 , 151 , 22.42 , 168 , -3.93 , 146 , -0.98 , 141
7, 4 , 25.2 , 249 , 35.35 , 225 , 72.91 , 226 , 23.7 , 231 , 32.57 , 249
7, 5 , 5.04 , 132 , 9.19 , 113 , 41.86 , 132 , 7.02 , 103 , 4.98 , 108
7, 6 , -15.21 , 42 , -5.42 , 40 , 12.7 , 35 , -9.84 , 34 , -29.19 , 62
14, 0 , 15.64 , 249 , 18.97 , 221 , 53.47 , 233 , 15.29 , 254 , 16.32 , 220
14, 1 , -2.75 , 161 , 1.28 , 127 , 15.18 , 154 , -4.86 , 136 , -6.22 , 124
14, 2 , 12.32 , 223 , 20.42 , 204 , 44.04 , 228 , 14.21 , 201 , 9.71 , 203
14, 3 , -15.12 , 176 , -6.42 , 132 , 6.98 , 161 , -13.09 , 131 , -17.25 , 159
14, 4 , 20.55 , 220 , 22.92 , 188 , 46.76 , 197 , 16.48 , 208 , 18.3 , 182
14, 5 , 0.95 , 123 , 8.35 , 95 , 21.37 , 125 , 2.81 , 102 , -1.34 , 105
14, 6 , -13.59 , 29 , -5.78 , 31 , 9.48 , 20 , -6.5 , 31 , -13.93 , 32
30, 0 , 21.12 , 207 , 32.86 , 205 , 61.17 , 197 , 18.65 , 237 , 29.15 , 254
30, 1 , -15.8 , 198 , 12.41 , 111 , 27.29 , 117 , -1.61 , 135 , -8.44 , 153
30, 2 , 22.24 , 155 , 35.21 , 136 , 55.67 , 142 , 16.04 , 148 , 17.91 , 170
30, 3 , -15.71 , 178 , 9.32 , 101 , 22.54 , 114 , -4.67 , 113 , -12.4 , 155
30, 4 , 21.07 , 180 , 41.27 , 137 , 58.07 , 132 , 26.92 , 172 , 26.21 , 186
30, 5 , 0.13 , 140 , 17.82 , 81 , 36.66 , 81 , 7.29 , 92 , -2.01 , 129
30, 6 , -3.69 , 21 , -1.22 , 24 , 7.03 , 15 , -9.98 , 21 , -9.14 , 20
60, 0 , 23.26 , 232 , 39.1 , 234 , 53.18 , 233 , 33.79 , 237 , 21.36 , 233
60, 1 , -1.49 , 118 , 6.38 , 112 , 24.68 , 106 , 0.67 , 128 , -1.68 , 112
60, 2 , 19.33 , 88 , 27.29 , 79 , 49.65 , 72 , 19.62 , 83 , 17.2 , 75
60, 3 , 2.29 , 80 , 9.32 , 61 , 35.81 , 53 , 5.01 , 65 , -2.89 , 75
60, 4 , 25.53 , 105 , 40.58 , 97 , 57.12 , 93 , 25.4 , 115 , 25.95 , 98
60, 5 , 12.35 , 53 , 32.81 , 44 , 41.18 , 47 , 15.33 , 54 , 14.45 , 48
60, 6 , -7.43 , 24 , -4.33 , 24 , -4.71 , 24 , -10.57 , 26 , -6.3 , 25
90, 0 , 26.57 , 269 , 45.71 , 272 , 51.48 , 266 , 29.2 , 265 , 27.05 , 271
90, 1 , 3.09 , 111 , 9.17 , 109 , 19.79 , 114 , 2.62 , 116 , 0.42 , 110
90, 2 , 24.38 , 54 , 31.02 , 51 , 40.09 , 51 , 22.79 , 52 , 20.87 , 49
90, 3 , 10.46 , 57 , 19.31 , 49 , 28.97 , 46 , 8.07 , 47 , 5.11 , 47
90, 4 , 32.58 , 85 , 46.23 , 83 , 57.24 , 78 , 28.66 , 86 , 30.72 , 87
90, 5 , 16.96 , 51 , 24.71 , 50 , 49.7 , 47 , 16.17 , 55 , 12.96 , 52
90, 6 , -6.82 , 24 , -8.06 , 26 , -4.12 , 24 , -9.15 , 25 , -8.44 , 25
"""

file = StringIO(string_var_sw)

df = pd.read_csv(file)

groups = []

for strats in ["Constant Return", "Sliding Window Return", "Lagged Return", "Granger Causality Return", "Kalman Filter Return"]:
    std_and_returns = df[["sw",strats]]
    group = std_and_returns.groupby(['sw']).mean()
    groups.append(group)
    
new_df = pd.concat(groups, axis=1)

# fig = plt.figure()
# ax = fig.add_subplot(111)
# ax.set_xscale('log')

    
plt.plot(new_df, label=new_df.columns)

font_size = 13
plt.xlabel('Window Size in Days', fontsize=font_size)
plt.ylabel('Average Return (%)', fontsize=font_size)
plt.axhline(y=0, color='black', linestyle='--')
plt.legend(fontsize=font_size)

plt.show()