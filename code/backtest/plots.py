import matplotlib.pyplot as plt
import pandas as pd
from io import StringIO

string_var_std = '''std,Pair,Constant Return,Constant Num of Trades,Sliding Window Return,SW Num of Trades,Lagged Return,Lagged Num of Trades,Granger Causality Return,Granger Causality Num of Trades,Kalman Filter Return,KF Num of Trades
0.1,0,5.44,360,29.28,661,66.29,687,27.32,275,83.01,228
0.1,1,-54.34,397,-83.7,660,-77.28,653,-53.15,388,-14.99,307
0.1,2,5.83,454,-2.1,634,43.6,619,38.37,300,89.13,236
0.1,3,-67.51,535,-70.51,572,-73.24,604,-44.9,375,-14.05,301
0.1,4,11.14,375,10.06,759,58.61,669,24.75,296,71.83,227
0.1,5,-53.44,396,-75.16,587,-68.27,593,-49.4,337,-24.99,328
0.1,6,-15.76,72,-82.0,213,-76.2,198,-19.34,68,-6.12,84

0.5,0,11.77,723,-15.81,1223,104.48,1185,112.9,550,241.96,378
0.5,1,-100,832,-100,920,-100,936,-69.01,650,60.2,456
0.5,2,9.19,688,-0.88,1105,124.82,1025,121.82,630,295.01,396
0.5,3,-93.51,794,-100,944,-92.35,1063,-65.18,691,37.63,425
0.5,4,26.01,826,-16.12,1243,112.45,1213,77.38,538,244.51,391
0.5,5,-95.02,837,-100,854,-100,905,-33.67,503,90.57,388
0.5,6,-37.47,124,-96.69,359,-84.14,301,-4.86,56,-39.65,150

1,0,-21.41,675,-1.59,864,129.7,865,100.55,586,164.34,442
1,1,-100,791,-100,814,-93.81,1022,-53.14,641,-10.31,505
1,2,-21.23,535,7.04,777,150.19,721,129.49,497,184.32,404
1,3,-100,497,-100,657,-74.92,872,-33.21,550,1.9,436
1,4,-5.26,689,15.54,799,156.04,822,126.53,558,190.11,460
1,5,-100,533,-100,612,-69.44,785,-32.21,500,37.38,408
1,6,-53.08,108,-66.08,169,-46.79,125,-29.43,70,-41.59,158

1.5,0,5.7,365,48.67,447,144.27,476,136.99,272,178.36,179
1.5,1,-100,408,-63.97,509,-30.62,504,9.68,293,68.75,221
1.5,2,-6.09,302,22.37,402,115.76,391,137.89,250,171.74,147
1.5,3,-71.49,389,-58.55,453,-27.34,449,8.71,290,79.79,166
1.5,4,-12.11,324,38.58,428,128.86,426,149.59,273,176.14,201
1.5,5,-100,312,-51.69,402,-2.83,379,31.86,259,88.52,175
1.5,6,-42.58,77,-40.18,87,-39.6,89,-19.7,35,-18.52,102

1.75,0,-10.35,288,38.26,342,141.77,353,102.91,192,175.37,153
1.75,1,-67.13,358,-29.23,293,-7.71,323,19.73,213,74.13,178
1.75,2,-2.51,225,33.15,277,115.65,270,116.07,180,167.95,133
1.75,3,-59.62,309,-21.28,268,-1.49,294,34.38,211,88.24,145
1.75,4,-3.72,241,41.37,294,92.24,291,111.0,201,146.99,152
1.75,5,-54.88,287,-14.02,225,14.77,250,31.62,200,103.61,152
1.75,6,-47.31,76,-26.89,67,-40.81,76,-32.41,37,-22.66,74

2,0,2.11,226,44.05,271,90.62,268,57.21,141,108.12,116
2,1,-41.61,245,7.67,165,30.12,184,6.93,144,57.28,125
2,2,-8.64,191,45.26,190,90.81,202,80.59,144,98.06,106
2,3,-48.82,228,5.81,160,24.92,178,33.74,154,57.92,121
2,4,8.74,206,45.91,190,85.04,201,76.4,149,96.82,125
2,5,-27.79,192,10.78,138,32.9,147,18.78,138,69.22,125
2,6,-37.31,65,-22.0,49,-24.93,54,-33.93,31,0.99,53

3,0,2.59,54,28.73,102,26.55,83,43.3,51,27.46,51
3,1,-5.71,64,21.12,49,18.19,46,32.22,60,23.33,60
3,2,1.95,61,20.39,56,22.55,64,36.13,52,21.34,52
3,3,-10.22,73,12.31,46,11.0,48,26.88,55,12.46,58
3,4,4.65,67,32.37,57,28.98,64,42.22,60,26.45,57
3,5,-6.49,53,20.89,39,18.45,39,36.14,51,26.67,57
3,6,-1.72,13,-4.74,20,-3.19,25,4.73,5,12.01,16'''

string_var_thresh = """
threshold,Pair,Constant Return,Constant Num of Trades,Sliding Window Return,SW Num of Trades,Lagged Return,Lagged Num of Trades,Granger Causality Return,Granger Causality Num of Trades,Kalman Filter Return,KF Num of Trades
4.7e-08,0,11.97,193,40.91,221,47.84,242,48.63,124,84.25,105
4.7e-08,1,-32.65,253,-1.01,178,-13.67,205,11.1,139,40.81,124
4.7e-08,2,13.1,134,47.32,171,41.15,169,48.62,103,84.45,77
4.7e-08,3,-31.25,214,0.85,165,-12.06,188,11.49,134,49.6,90
4.7e-08,4,22.39,150,54.73,178,38.45,184,49.58,123,76.66,90
4.7e-08,5,-17.92,191,10.46,128,5.72,150,23.4,124,61.33,96
4.7e-08,6,-37.46,53,-7.03,30,-22.04,46,-34.99,26,-9.21,50

6.36e-08,0,19.52,216,53.11,255,53.53,277,52.62,146,96.83,120
6.36e-08,1,-33.97,283,-3.15,209,-24.62,243,6.17,161,46.96,140
6.36e-08,2,18.82,156,52.75,199,40.56,200,57.97,123,102.2,94
6.36e-08,3,-32.07,240,0.52,193,-20.87,219,6.48,162,57.12,107
6.36e-08,4,22.27,175,53.37,215,36.47,219,61.49,152,99.76,111
6.36e-08,5,-19.16,220,9.93,152,-5.52,179,21.27,148,69.1,116
6.36e-08,6,-35.97,59,-8.73,37,-25.15,56,-25.12,30,-12.88,58

8.83e-08,0,19.42,239,60.6,282,68.01,298,91.7,159,78.9,127
8.83e-08,1,-37.49,310,-5.19,235,-24.14,267,26.33,178,30.0,148
8.83e-08,2,19.31,182,59.67,224,54.3,222,105.62,141,82.23,102
8.83e-08,3,-37.58,266,-1.95,220,-20.69,247,22.11,177,38.77,116
8.83e-08,4,21.92,196,59.66,241,47.85,240,106.75,164,83.14,122
8.83e-08,5,-20.95,239,12.95,177,-5.75,201,39.38,162,51.16,123
8.83e-08,6,-35.14,60,-18.27,46,-22.77,59,-23.69,32,-12.11,59

1.29e-07,0,10.78,261,56.21,307,157.62,323,87.05,176,142.23,146
1.29e-07,1,-53.48,336,-14.07,264,7.76,294,16.53,197,65.04,167
1.29e-07,2,7.65,201,50.46,249,124.73,244,106.11,161,138.86,122
1.29e-07,3,-46.86,287,-8.9,243,11.59,272,23.24,195,75.58,133
1.29e-07,4,12.6,217,51.06,267,111.6,264,96.88,187,142.85,139
1.29e-07,5,-40.42,265,-0.86,201,34.21,226,32.24,183,90.84,144
1.29e-07,6,-41.38,69,-21.81,56,-25.34,70,-25.69,34,-13.22,67

2.13e-05,0,-3.23,288,48.58,342,153.27,353,112.57,192,178.18,153
2.13e-05,1,-61.04,358,-23.06,293,1.35,323,25.38,213,76.1,178
2.13e-05,2,3.91,225,44.4,277,126.45,270,129.25,180,172.68,133
2.13e-05,3,-55.28,309,-14.32,268,7.03,294,39.51,211,87.1,145
2.13e-05,4,2.55,241,47.2,294,105.24,291,117.2,201,150.06,152
2.13e-05,5,-49.45,287,-7.04,225,21.89,250,36.53,200,104.23,152
2.13e-05,6,-45.35,76,-25.25,67,-38.07,76,-30.55,37,-20.97,74
"""

string_var_ii = """
ii,Pair,Constant Return,Constant Num of Trades,Sliding Window Return,SW Num of Trades,Lagged Return,Lagged Num of Trades,Granger Causality Return,Granger Causality Num of Trades,Kalman Filter Return,KF Num of Trades
1,0,-100,3,-100,4,-100,2,-100,2,-100,3
1,1,-100,3,-100,4,-100,2,-100,2,-100,3
1,2,-100,3,-100,4,-100,2,-100,3,-100,3
1,3,-100,3,-100,4,-100,2,-100,3,-100,3
1,4,-100,3,-100,4,-100,2,-100,4,-100,3
1,5,-100,3,-100,5,-100,2,-100,2,-100,3
1,6,-100,4,-100,3,-100,2,-100,2,-100,2
5,0,-100,72,-100,133,-100,226,-100,144,-71.74,146
5,1,-100,67,-100,104,-100,162,-100,30,-100,160
5,2,-100,79,-100,138,-100,199,-100,132,-63.0,122
5,3,-100,71,-100,135,-100,165,-100,112,-100,121
5,4,-100,63,-100,135,-100,174,-100,129,-63.53,139
5,5,-100,67,-100,114,-100,147,-100,100,-82.69,144
5,6,-100,37,-79.95,56,-100,70,-100,8,-100,35
10,0,-100,241,-84.18,307,-7.58,323,-12.93,176,41.56,146
10,1,-100,216,-100,227,-100,291,-64.38,197,-9.68,167
10,2,-85.38,201,-69.57,249,-5.49,244,-2.07,161,44.66,122
10,3,-100,231,-100,240,-83.09,272,-60.77,195,2.63,133
10,4,-90.71,217,-78.03,267,-20.31,264,-16.19,187,47.61,139
10,5,-100,221,-84.32,201,-58.41,226,-52.0,183,8.88,144
10,6,-66.18,69,-49.48,56,-55.36,70,-47.22,34,-40.92,67
25,0,-26.61,261,11.82,307,105.22,323,52.85,176,113.49,146
25,1,-84.23,336,-45.63,264,-24.38,294,-8.47,197,44.18,167
25,2,-22.62,201,11.27,249,81.12,244,73.99,161,112.59,122
25,3,-72.61,287,-36.95,243,-17.69,272,-4.56,195,51.08,133
25,4,-21.44,217,9.05,267,67.77,264,59.91,187,111.02,139
25,5,-67.38,265,-27.36,201,4.31,226,6.61,183,65.1,144
25,6,-50.76,69,-30.66,56,-36.36,70,-33.27,34,-22.39,67
50,0,-1.11,261,43.27,307,142.72,323,79.2,176,135.02,146
50,1,-63.31,336,-23.47,264,-2.26,294,9.63,197,60.25,167
50,2,-1.86,201,39.28,249,113.61,244,98.61,161,132.72,122
50,3,-55.17,287,-16.94,243,4.9,272,16.24,195,70.22,133
50,4,1.25,217,39.14,267,99.9,264,87.51,187,135.26,139
50,5,-49.54,265,-9.55,201,27.0,226,26.63,183,85.12,144
50,6,-44.92,69,-25.08,56,-29.07,70,-28.24,34,-16.58,67
75,0,6.76,261,51.86,307,152.08,323,84.38,176,139.81,146
75,1,-57.21,336,-17.71,264,3.72,294,14.03,197,62.57,167
75,2,4.41,201,46.24,249,119.75,244,103.29,161,136.6,122
75,3,-49.42,287,-11.8,243,10.04,272,20.54,195,73.3,133
75,4,9.24,217,46.68,267,107.71,264,93.96,187,140.48,139
75,5,-43.5,265,-3.46,201,31.49,226,29.58,183,88.5,144
75,6,-42.55,69,-22.9,56,-26.58,70,-26.54,34,-14.34,67
100,0,10.78,261,56.21,307,157.62,323,87.05,176,142.23,146
100,1,-53.48,336,-14.07,264,7.76,294,16.53,197,65.04,167
100,2,7.65,201,50.46,249,124.73,244,106.11,161,138.86,122
100,3,-46.86,287,-8.9,243,11.59,272,23.24,195,75.58,133
100,4,12.6,217,51.06,267,111.6,264,96.88,187,142.85,139
100,5,-40.42,265,-0.86,201,34.21,226,32.24,183,90.84,144
100,6,-41.38,69,-21.81,56,-25.34,70,-25.69,34,-13.22,67
"""

string_var_sw = """
sw,Pair,Constant Return,Constant Num of Trades,Sliding Window Return,SW Num of Trades,Lagged Return,Lagged Num of Trades,Granger Causality Return,Granger Causality Num of Trades,Kalman Filter Return,KF Num of Trades
7,0,22.17,404,51.07,329,35.37,357,76.74,238,24.51,358
7,1,-36.94,328,-11.1,273,-28.36,304,-1.24,316,-26.29,293
7,2,21.98,365,46.22,336,36.55,332,81.2,234,15.33,362
7,3,-37.99,323,-18.41,278,-27.56,293,-8.08,315,-35.34,306
7,4,26.57,377,44.93,351,40.61,344,83.2,255,23.04,334
7,5,-26.08,272,-6.36,231,-21.73,249,15.64,268,-21.64,239
7,6,-28.69,63,-21.68,67,-23.34,65,-15.51,31,-27.14,67
14,0,20.67,383,11.37,293,15.98,352,40.34,182,10.85,353
14,1,-31.36,318,-24.59,249,-38.72,287,-15.17,246,-34.4,277
14,2,17.74,327,10.62,283,6.0,311,38.23,186,6.88,311
14,3,-29.11,299,-35.09,268,-40.29,297,-20.65,256,-43.56,312
14,4,20.22,346,11.44,278,5.44,308,47.63,212,12.56,305
14,5,-18.27,251,-13.4,192,-29.71,242,-8.71,200,-28.11,231
14,6,-24.24,42,-17.09,45,-5.45,38,-38.81,32,-19.21,45
30,0,21.7,289,39.07,260,75.66,270,55.56,104,10.56,323
30,1,-32.05,318,-9.97,219,-4.4,238,21.47,133,-42.11,287
30,2,19.45,208,39.04,203,66.71,193,57.57,85,3.43,232
30,3,-26.54,274,-7.43,200,0.83,219,24.29,117,-39.39,241
30,4,15.12,245,36.08,217,52.09,206,60.98,104,8.4,257
30,5,-12.9,214,2.11,153,14.64,168,35.1,105,-30.14,218
30,6,-9.51,24,0.45,26,11.58,16,-23.72,21,-5.27,24
60,0,15.49,314,48.29,275,68.27,277,81.46,108,21.08,351
60,1,-28.12,303,-0.49,180,20.56,172,42.33,135,-34.99,259
60,2,22.48,100,40.32,92,67.63,83,77.25,50,13.72,147
60,3,-6.78,179,13.53,112,39.54,96,56.08,68,-22.19,154
60,4,25.23,170,47.71,139,67.1,120,83.36,106,13.69,209
60,5,7.16,141,25.91,80,48.06,76,48.56,135,-0.08,97
60,6,-7.53,23,2.65,25,14.05,15,-20.65,17,-3.21,23
90,0,16.48,238,47.27,289,64.32,295,87.31,71,30.49,287
90,1,-17.54,208,8.0,149,26.89,144,63.94,75,-15.39,176
90,2,28.08,56,42.63,42,71.1,33,92.23,36,14.67,46
90,3,10.77,78,30.97,45,57.71,35,67.33,53,0.61,59
90,4,32.25,137,55.26,106,76.89,103,93.72,73,30.26,126
90,5,12.99,91,33.69,54,55.5,56,76.43,36,7.44,61
90,6,-7.53,23,2.65,25,14.05,15,-20.65,17,-3.21,23
"""

file = StringIO(string_var_sw)

df = pd.read_csv(file)

groups = []

for strats in ["Constant Return", "Sliding Window Return", "Lagged Return", "Granger Causality Return", "Kalman Filter Return"]:
    std_and_returns = df[["sw",strats]]
    group = std_and_returns.groupby(['sw']).mean()
    groups.append(group)
    
new_df = pd.concat(groups, axis=1)

# fig = plt.figure()
# ax = fig.add_subplot(111)
# ax.set_xscale('log')

    
plt.plot(new_df, label=new_df.columns)

font_size = 13
plt.xlabel('Window Size in days', fontsize=font_size)
plt.ylabel('Average Return (%)', fontsize=font_size)
plt.axhline(y=0, color='black', linestyle='--')
plt.legend(fontsize=font_size)

plt.show()